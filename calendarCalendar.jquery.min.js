!function(F,e,a,t){var i=new Date,n=new Date,s="calendarCalendar",o={containerName:"calendarCalendar",lexicon:{titleDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],startCalendarTitle:"Arrive On",endCalendarTitle:"Depart On",singleCalendarTitle:"",accessibility:{elementDescription:"You're on a date-picker field. Press enter to bring up the calendar to select your dates.",dateRangeDescription:"This calendar picks a range and you can pick a start and end date.",singleCalendarDescription:"This is a single date calendar, you can pick one date.",exitMessage:"Exit Calendar",currentMonth:"The current month is",prevMonth:"Change to previous Month",nextMonth:"Next Month"}},startDateId:"calendar-start-date",endDateId:"calendar-end-date",startDate:i,endDate:n,minDate:null,maxDate:null,onDateChange:function(){},calculatePosition:function(t){return this.calculatePosition(t)},onOpen:function(){},onClose:function(){},showPaddingDates:!1,calendarMode:"range",showBackground:!0,showCloseButton:!1,closeButtonContent:"x",closeOnDateSelect:!1,initializeDateChange:!0};function r(t,e){this.element=t,this.options=F.extend(!0,{},o,e),this._defaults=o,this._name=s,this.init()}r.prototype={init:function(){if(this.open=!1,this.options.startDateView=new Date(this.options.startDate),this.options.endDateView=new Date(this.options.endDate),this.container=F("#"+this.options.containerName),""==F(this.element).attr("ariadescribedby")&&F(this.element).attr("aria-describedby","calendarCalendarElementDescription-"+this.options.calendarMode),F(this.element).attr("aria-haspopup","true"),F(this.element).attr("aria-owns",this.options.containerName),0==this.container.length&&(this.container=F("<div>",{id:this.options.containerName,class:"calendarCalendar"}),F("body").append(this.container),this.container=F("#"+this.options.containerName)),0==F("#calendarCalendarElementDescription-"+this.options.calendarMode).length){var t=this.options.lexicon.accessibility.elementDescription;"single"==this.options.calendarMode?t+=" "+this.options.lexicon.accessibility.singleCalendarDescription:t+=" "+this.options.lexicon.accessibility.dateRangeDescription,this.container.after(F("<div>",{id:"calendarCalendarElementDescription-"+this.options.calendarMode,style:"display:none;"}).html(t))}this.container.removeClass("open"),F(this.element).unbind("click keypress",F.proxy(this.openCalendar,this)).bind("click keypress",F.proxy(this.openCalendar,this)),this.options.calendarMode="single"==this.options.calendarMode||"range"==this.options.calendarMode?this.options.calendarMode:"range",this.options.startDateId==this.options.endDateId&&(this.options.endDateId+="2"),this.options.maxDate<this.options.minDate&&(this.options.maxDate=null,this.options.maxDate=null),this.dateUpdate(this.options.initializeDateChange),null!=this.options.startDate&&this.options.startDate.setHours(0,0,0,0),null!=this.options.endDate&&this.options.endDate.setHours(0,0,0,0),null!=this.options.minDate&&this.options.minDate.setHours(0,0,0,0),null!=this.options.maxDate&&this.options.maxDate.setHours(0,0,0,0),F(e).unbind("resize",F.proxy(this.resize,this)).bind("resize",F.proxy(this.resize,this)),F(a).on("focus","*",F.proxy(this._limitFocus,this))},_limitFocus:function(t){var e=a.getElementById(this.options.containerName);this.open&&!F.contains(e,t.target)&&e!=t.target&&(t.stopPropagation(),this.container.find("*[tabindex]").first().focus())},openCalendar:function(t){"keypress"==t.type&&13!=t.keyCode||(this._lastFocusedElement=F(":focus"),this.open||(this.options.startDateView=new Date(this.options.startDate),this.options.endDateView=new Date(this.options.endDate),"range"==this.options.calendarMode?this.options.onOpen(this.options.startDate,this.options.endDate,this.options.lexicon,this.element):this.options.onOpen(this.options.startDate,this.options.lexicon,this.element)),this.drawCalendars(),setTimeout(function(){this.container.find("*[tabindex]").first().focus()}.bind(this),0))},closeCalendar:function(t){if("keypress"!=t.type||13==t.keyCode)return this.open=!1,console.log(this.container.removeClass("open")),this.container.attr("tabindex","-2"),"range"==this.options.calendarMode?this.options.onClose(this.options.startDate,this.options.endDate,this.options.lexicon,this.element):this.options.onClose(this.options.startDate,this.options.lexicon,this.element),setTimeout(function(){this._lastFocusedElement.focus()}.bind(this),0),"closed"},resize:function(){return this.open&&this.drawCalendars(),"resized"},drawCalendars:function(){var t=1;this.open=!0,this.container.addClass("open");var e="";this.options.showBackground&&(e=F("<div>",{class:"background","aria-label":this.options.lexicon.accessibility.exitMessage,tabindex:t++})).bind("click keypress",F.proxy(this.closeCalendar,this));var a,i,n="";this.options.showCloseButton&&(n=F("<div>",{class:"close-button","aria-label":this.options.lexicon.accessibility.exitMessage,tabindex:t++}).html(this.options.closeButtonContent)).bind("click keypress",F.proxy(this.closeCalendar,this)),i="range"==this.options.calendarMode?(a=this.generateCalendar(this.options.startDate,this.options.startDateId,this.options.startDateView,this.options.lexicon.startCalendarTitle,t),this.generateCalendar(this.options.endDate,this.options.endDateId,this.options.endDateView,this.options.lexicon.endCalendarTitle,a.find("*[tabIndex]").length)):(a=this.generateCalendar(this.options.startDate,this.options.startDateId,this.options.startDateView,this.options.lexicon.singleCalendarTitle,t),"");var s=F("<div>",{class:"calendars "+this.options.calendarMode}).html(a).append(i).append(n);if(this.container.html(e).append(s),null!=this.options.calculatePosition)try{s.css(F.proxy(this.options.calculatePosition,this,F(this.element))())}catch(t){console.log("custom calculatePosition returned dud positioning - using the default positioning"),s.css(F.proxy(this.calculatePosition,this,F(this.element))())}},calculatePosition:function(t){var e=t.offset();return{top:e.top+t.outerHeight(),left:e.left+t.outerWidth()}},generateCalendar:function(t,e,a,i,n){n=void 0!==n?n:0;var s="calendar";this.options.maxDate instanceof Date&&+a.getMonth()==+this.options.maxDate.getMonth()&&+a.getFullYear()==+this.options.maxDate.getFullYear()&&(s+=" max-month"),this.options.minDate instanceof Date&&+a.getMonth()==+this.options.minDate.getMonth()&&+a.getFullYear()==+this.options.minDate.getFullYear()&&(s+=" min-month");var o=F("<div>",{id:e,class:s}),r=F("<div>",{class:"calendar-header"}),d=F("<a>",{class:"calendar-arrow left","aria-label":i+" "+this.options.lexicon.accessibility.prevMonth});s.indexOf("min-month")&&d.attr("tabindex",n++);var l=F("<div>",{class:"calendar-title"}),h=F("<div>",{class:"calendar-caption"}).html(i),p=F("<div>",{class:"calendar-date"}).html(this.options.lexicon.longMonths[a.getMonth()]+" "+a.getFullYear()),c=F("<a>",{class:"calendar-arrow right","aria-label":i+" "+this.options.lexicon.accessibility.nextMonth});s.indexOf("max-month")&&c.attr("tabindex",n++);var D=F("<div>",{class:"caldendar-main"}),u=F("<div>",{class:"calendar-days calendar-table"}),g=F("<div>",{class:"calendar-dates calendar-table"});d.bind("click keypress",{date:a,month:a.getMonth()-1},F.proxy(this.monthClickEvent,this)),c.bind("click keypress",{date:a,month:a.getMonth()+1},F.proxy(this.monthClickEvent,this)),r.append(d),l.append(h),l.append(p),r.append(l),r.append(c),o.append(r);for(var m=0;m<7;m++)u.append(F("<div>",{class:"calendar-cell"}).html(this.options.lexicon.titleDays[m]));var y=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),f=new Date(a.getFullYear(),a.getMonth(),1).getDay();for(m=f;0<m;m--){if(this.options.showPaddingDates)(k=new Date(a.getFullYear(),a.getMonth(),1)).setDate(k.getDate()-m),w=k.getDate();else w="&nbsp;";g.append(F("<div>",{class:"calendar-cell disabled padding"}).html(w))}var x=new Date;x.setHours(0,0,0,0);var C=new Date(a.valueOf());C.setHours(0,0,0,0);for(m=1;m<=y;m++){C.setDate(m);var v="calendar-cell";e==this.options.endDateId&&C<=this.options.startDate||C<this.options.minDate&&this.options.minDate instanceof Date||C>this.options.maxDate&&this.options.maxDate instanceof Date||e==this.options.startDateId&&+C==+this.options.maxDate&&"range"==this.options.calendarMode?v+=" disabled":v+=" active",+C.getDate()==+t.getDate()&&+C.getMonth()==+t.getMonth()&&+C.getFullYear()==+t.getFullYear()&&(v+=" selected"),+C.getDate()==+a.getDate()&&+C.getMonth()==+a.getMonth()&&+C.getFullYear()==+a.getFullYear()&&(v+=" highlighted"),C.getTime()==x.getTime()&&(v+=" today");var b=F("<a>",{class:v}).html(m);if(-1==v.indexOf("disabled")){b.bind("click keypress",{selectedDate:t,date:a,day:m,id:e},F.proxy(this.dayClickEvent,this)),b.attr("tabindex",n++);var M=this.options.lexicon.longDays[C.getDay()]+", "+m+", "+this.options.lexicon.longMonths[C.getMonth()]+", "+C.getFullYear();""!=i&&(M=i+", "+M),b.attr("aria-label",M)}g.append(b)}for(m=1;m<=42-(f+y);m++){var w,k;if(this.options.showPaddingDates)(k=new Date(a.getFullYear(),a.getMonth(),y)).setDate(k.getDate()+m),w=k.getDate();else w="&nbsp;";g.append(F("<div>",{class:"calendar-cell disabled padding"}).html(w))}return D.append(u),D.append(g),o.append(D),o},dayClickEvent:function(t){if("keypress"!=t.type||13==t.keyCode||37==t.keyCode||38==t.keyCode||39==t.keyCode||40==t.keyCode){if(t.data.date.setDate(t.data.day),"keypress"==t.type)switch(t.keyCode){case 37:t.data.date.setDate(t.data.date.getDate()-1);break;case 38:t.data.date.setDate(t.data.date.getDate()-7);break;case 39:t.data.date.setDate(t.data.date.getDate()+1);break;case 40:t.data.date.setDate(t.data.date.getDate()+7)}if("keypress"!=t.type||13==t.keyCode){if(t.data.selectedDate.setDate(t.data.date.getDate()),t.data.selectedDate.setMonth(t.data.date.getMonth()),t.data.selectedDate.setFullYear(t.data.date.getFullYear()),this.dateUpdate(),this.options.closeOnDateSelect)return void("range"==this.options.calendarMode&&t.data.id!=this.options.endDateId?this.drawCalendars():this.closeCalendar(t));this.drawCalendars(),this.container.find(".calendar-cell.active.selected").focus()}this.drawCalendars()}},monthClickEvent:function(t){if("keypress"!=t.type||13==t.keyCode){var e=t.target,a=F(e).parents(".calendar").attr("id"),i="";e.attr("class").split(/\s+/).forEach(function(t){i+="."+t}),t.data.date.setMonth(t.data.month),this.drawCalendars(),this.container.find("#"+a+" "+i).focus()}},dateUpdate:function(t){t=void 0===t||t,this.options.minDate instanceof Date&&+this.options.minDate>+this.options.startDate&&(this.options.startDate=new Date(this.options.minDate.valueOf())),this.options.maxDate instanceof Date&&+this.options.maxDate<=+this.options.startDate&&(this.options.startDate=new Date(this.options.maxDate.valueOf()),"range"==this.options.calendarMode&&this.options.startDate.setDate(this.options.startDate.getDate()-1)),this.options.maxDate instanceof Date&&+this.options.maxDate<+this.options.endDate&&(this.options.endDate=new Date(this.options.maxDate.valueOf())),+this.options.endDate<=+this.options.startDate&&(this.options.endDate=new Date(this.options.startDate.valueOf()),this.options.endDate.setDate(this.options.endDate.getDate()+1)),this.options.startDateView=new Date(this.options.startDate),this.options.endDateView=new Date(this.options.endDate),t&&("range"==this.options.calendarMode?this.options.onDateChange(this.options.startDate,this.options.endDate,this.options.lexicon):this.options.onDateChange(this.options.startDate,this.options.lexicon))},formatString:function(t,e){for(var a in e)t=t.replace(new RegExp("\\{"+a+"\\}","gi"),e[a]);return t}},F.fn[s]=function(e){return this.each(function(){if(F.data(this,"plugin_"+s)){(t=F.data(this,"plugin_"+s)).options=F.extend(!0,{},t.options,e),t.init()}else{var t=new r(this,e);F.data(this,"plugin_"+s,t)}})}}(jQuery,window,document);