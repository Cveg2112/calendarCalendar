(function(e,g,h,c){var b=new Date(),a=new Date(),f="calendarCalendar",d={containerName:"calendarCalendar",titleDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],startCalendarTitle:"Arrive On",endCalendarTitle:"Depart On",startDateId:"calendar-start-date",endDateId:"calendar-end-date",startDate:b,endDate:new Date(a.setDate(b.getDate()+1)),minDate:null,maxDate:null,onDateChange:function(j,n,m,o,k,l){},calculatePosition:function(k,j){return j.calculatePosition(k)},showPaddingDates:false};function i(k,j){this.element=k;this.options=e.extend({},d,j);this._defaults=d;this._name=f;this.init()}i.prototype={init:function(){var j=this;j.container=e("#"+j.options.containerName);if(j.container.length==0){j.container=e("<div>",{id:j.options.containerName});e("body").append(j.container);j.container=e("#"+j.options.containerName)}j.container.hide();e(j.element).click(function(){j.drawCalendars(j)});if(j.options.startDateId==j.options.endDateId){j.options.endDateId+="2"}if(j.options.maxDate<j.options.minDate){j.options.maxDate=null;j.options.maxDate=null}j.dateUpdate(j)},closeCalendar:function(k){var j=k.data._self;j.container.hide();j.container.html("")},drawCalendars:function(k){k.container.show();var l=e("<div>",{"class":"background"});l.bind("click",{_self:k},k.closeCalendar);var m=k.generateCalendar(k,k.options.startDate,k.options.startDateId,k.options.startCalendarTitle);var j=k.generateCalendar(k,k.options.endDate,k.options.endDateId,k.options.endCalendarTitle);var n=e("<div>",{"class":"calendars"}).html(m).append(j);n.offset(k.options.calculatePosition(e(k.element),k));k.container.html(l).append(n)},calculatePosition:function(j){var k=j.offset();return{top:k.top+j.outerHeight(),left:k.left+j.outerWidth()}},generateCalendar:function(k,D,u,E){var B=e("<div>",{id:u,"class":"calendar"});var A=e("<div>",{"class":"calendar-header"});var t=e("<div>",{"class":"calendar-arrow left"});var o=e("<div>",{"class":"calendar-title"});var n=e("<div>",{"class":"calendar-caption"}).html(E);var s=e("<div>",{"class":"calendar-date"}).html(k.options.longMonths[D.getMonth()]+" "+D.getFullYear());var w=e("<div>",{"class":"calendar-arrow right"});var m=e("<div>",{"class":"caldendar-main"});var l=e("<div>",{"class":"calendar-days calendar-table"});var q=e("<div>",{"class":"calendar-dates calendar-table"});t.bind("click",{_self:k,date:D,month:D.getMonth()-1},k.monthClickEvent);w.bind("click",{_self:k,date:D,month:D.getMonth()+1},k.monthClickEvent);A.append(t);o.append(n);o.append(s);A.append(o);A.append(w);B.append(A);for(var z=0;z<7;z++){l.append(e("<div>",{"class":"calendar-cell"}).html(k.options.titleDays[z]))}var j=new Date(D.getFullYear(),D.getMonth()+1,0).getDate();var p=new Date(D.getFullYear(),D.getMonth(),1).getDay();for(var z=p;z>0;z--){var x;if(k.options.showPaddingDates){var r=new Date(D.getFullYear(),D.getMonth(),1);r.setDate(r.getDate()-z);x=r.getDate()}else{x="&nbsp;"}q.append(e("<div>",{"class":"calendar-cell disabled padding"}).html(x))}for(var z=1;z<=j;z++){var v=new Date(D.valueOf());v.setDate(z);var C="calendar-cell";if((u==k.options.endDateId&&v<=k.options.startDate)||v<k.options.minDate||v>k.options.maxDate){C+=" disabled"}else{C+=" active"}if(z==D.getDate()){C+=" selected"}var y=e("<div>",{"class":C}).html(z);if((C.indexOf("disabled")==-1)){y.bind("click",{_self:k,date:D,day:z},k.dayClickEvent)}q.append(y)}for(var z=1;z<=42-(p+j);z++){var x;if(k.options.showPaddingDates){var r=new Date(D.getFullYear(),D.getMonth(),j);r.setDate(r.getDate()+z);x=r.getDate()}else{x="&nbsp;"}q.append(e("<div>",{"class":"calendar-cell disabled padding"}).html(x))}m.append(l);m.append(q);B.append(m);return B},dayClickEvent:function(k){var j=k.data._self;k.data.date.setDate(k.data.day);j.dateUpdate(j);j.drawCalendars(j)},monthClickEvent:function(k){var j=k.data._self;k.data.date.setMonth(k.data.month);j.dateUpdate(j);j.drawCalendars(j)},dateUpdate:function(j){if(j.options.minDate instanceof Date&&+j.options.minDate>+j.options.startDate){j.options.startDate=new Date(j.options.minDate.valueOf())}if(j.options.maxDate instanceof Date&&+j.options.maxDate<+j.options.endDate){j.options.endDate=new Date(j.options.maxDate.valueOf())}if(+j.options.endDate<=+j.options.startDate){j.options.endDate=new Date(j.options.startDate.valueOf());j.options.endDate.setDate(j.options.endDate.getDate()+1)}j.options.onDateChange(j.options.startDate,j.options.endDate,j.options.shortDays,j.options.longDays,j.options.shortMonths,j.options.longMonths)}};e.fn[f]=function(j){return this.each(function(){if(!e.data(this,"plugin_"+f)){var k=new i(this,j);e.data(this,"plugin_"+f,k)}})}})(jQuery,window,document);